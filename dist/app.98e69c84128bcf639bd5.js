webpackJsonp([2],{0:function(t,e,o){"use strict";var n=o(371),r=o(1),s=o(749);r.enableProdMode(),n.platformBrowserDynamic().bootstrapModule(s.EmsAppModule)},431:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(a=(s<3?r(a):s>3?r(e,o,a):r(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=o(1),a=o(434),i=o(752),c=o(95),l=function(){function t(t,e,o){this.normalExpressQueryService=t,this.router=e,this.route=o,this.title="邮件详情",this.loadText="正在查询,请稍后...",this.fromHome=!1}return t.prototype.ngOnInit=function(){var t=this;console.log("EmsNormalExpressComponent ngOnInit"),this.route.params.forEach(function(e){var o=e.id;t.normalExpressQueryService.getEmsNormalExpressObject(o).then(function(e){t.emsNormalExpressObject=e,t.emsNormalExpressProgressList=e.data,console.log("get progress size "+t.emsNormalExpressProgressList.length)},function(e){console.log("error");var o=e;t.loadText=o,alert(o),t.goBack()})})},t.prototype.getState=function(){return i.EmsNormalExpressStateDescArray[this.emsNormalExpressObject.state]},t.prototype.getProgressContext=function(t){return t},t.prototype.goBack=function(){this.router.navigate([""])},n([s.Input(),r("design:type",i.EmsNormalExpressObject)],t.prototype,"emsNormalExpressObject",void 0),t=n([s.Component({selector:"normal-express-detail",template:o(696),styles:[o(700)]}),r("design:paramtypes",[a.NormalExpressQueryService,c.Router,c.ActivatedRoute])],t)}();e.EmsNormalExpressComponent=l},432:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(a=(s<3?r(a):s>3?r(e,o,a):r(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=o(1),a=function(){function t(){}return t=n([s.Component({selector:"my-nav",template:'\n       <!--<nav>-->\n            <!--<a routerLink="/dashboard" routerLinkActive="active">Dashboard</a>-->\n            <!--<a routerLink="/heroes" routerLinkActive="active">Heroes</a>-->\n       <!--</nav>-->\n       <router-outlet></router-outlet>\n  '}),r("design:paramtypes",[])],t)}();e.NormalQueryNavComponent=a},433:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(a=(s<3?r(a):s>3?r(e,o,a):r(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=o(1),a=o(38),i=o(95),c=o(751),l=function(){function t(t,e){this.titleService=t,this.router=e,this.title="邮政速递物流",this.postId="",console.log("NormalQueryPostIdComponent constructor"),this.setTitle("邮政速递物流")}return t.prototype.ngOnInit=function(){var t=decodeURI(window.location.href);console.log("NormalQueryPostIdComponent ngOnInit "+t);var e=this.getUrlParamsObject(t);if(e&&e.action&&"scan"==e.action)if(e.code){this.postId=e.code;var o=window.localStorage.getItem("normalScanResultCode");o!==e.code&&(console.log("ngOnInit localStorage.normalScanResultCode setItem "+e.code),window.localStorage.setItem("normalScanResultCode",e.code),this.onQuery())}else console.log("ngOnInit scan return code "+e.code)},t.prototype.scan=function(){console.log("scan reset localStorage.normalScanResultCode "+this.postId),window.localStorage.setItem("normalScanResultCode","");var t=new c.ServiceConfig;window.location.href=encodeURI("http://www.dzbxk.com/maxcosi/commonscan.html?target="+t.normalEmsServiceUrl+"/?action=scan")},t.prototype.setTitle=function(t){this.titleService.setTitle(t)},t.prototype.onQuery=function(){var t=this.postId.trim();if(0==t.length)return void alert("请输入运单号");var e=["/",t];console.log("onQuery postId="+t),this.router.navigate(e)},t.prototype.getUrlParams=function(t){var e=t.indexOf("?");return console.log(e),e!=-1?t.substring(e+1):""},t.prototype.getUrlParamsObject=function(t){var e=this.getUrlParams(t);if(""==e)return{action:"no",code:""};for(var o={},n=e.split("&"),r=n.length,s=0;s<r;s++){var a=n[s].split("=");o[a[0]]=a[1]}return o},n([s.Input(),r("design:type",String)],t.prototype,"postId",void 0),t=n([s.Component({selector:"my-postid-query",template:o(697),styles:[o(701)]}),r("design:paramtypes",[a.Title,i.Router])],t)}();e.NormalQueryPostIdComponent=l},434:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(a=(s<3?r(a):s>3?r(e,o,a):r(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=o(1),a=o(239),i=function(){function t(t,e){this.http=t,this.jsonp=e,this.queryUrl="http://www.dzbxk.com/V4_5/EMSSearch.ashx"}return t.prototype.getEmsNormalExpressObject=function(t){console.log("NormalExpressQueryService getEmsNormalExpressObject id "+t);var e=new a.URLSearchParams;return e.set("type","ems"),e.set("postid",t),e.set("format","json"),e.set("callback","JSONP_CALLBACK"),this.jsonp.get(this.queryUrl,{search:e}).toPromise().then(this.extractData)["catch"](this.handleError)},t.prototype.extractData=function(t){console.log("Response "+t);var e=t.json();if(console.log("Response "+JSON.stringify(e)),e=e||{},e&&"200"!==e.status)throw{message:e.message};return e},t.prototype.handleError=function(t){var e=t.message?t.message:t.status?t.status+" - "+t.statusText:"Server error";return console.error(e),Promise.reject(e)},t=n([s.Injectable(),r("design:paramtypes",[a.Http,a.Jsonp])],t)}();e.NormalExpressQueryService=i},693:function(t,e){},694:function(t,e,o){t.exports=o.p+"assets/ems_logo.1f8585c503a8f5d533cef08f0d0413b9.png"},695:function(t,e,o){t.exports=o.p+"assets/ic_scan_postid.6433eb3d1cb8d7efa54de158f4781f1a.png"},696:function(t,e){t.exports='<div class=flex_box--vertical> <my-ems-toolbar [title]=title class=width100></my-ems-toolbar> <div *ngif=!emsNormalExpressObject class=load_layout> <span id=loadText>{{loadText}}</span> </div> <div *ngif=emsNormalExpressObject class=status_layout> <span id=postid #postid>邮件单号: {{emsNormalExpressObject.nu}}</span> <span id=state #state>状态: {{getState()}}</span> </div> <div class="fill_space progress_layout" *ngif=emsNormalExpressProgressList> <table id=queryResult2 class=result-info2 cellspacing=0> <tbody> <tr *ngfor="let emsNormalExpressProgress of emsNormalExpressProgressList;let i=index"> <td class=row1 [class.selected]="i==0">{{emsNormalExpressProgress.time}}</td> <td class=status [class.status-check]="i==0"> </td> <td [class.selected]="i==0">{{emsNormalExpressProgress.context}}</td> </tr> </tbody> </table> </div> </div>'},697:function(t,e,o){t.exports='<div class=flex_box--vertical> <my-ems-toolbar [title]=title class=width100></my-ems-toolbar> <div class=fill_space> <div class="query_input_layout flex_box"> <input [(ngmodel)]=postId placeholder=请输入运单号查询货运信息 /> <img src='+o(695)+" id=scan (click)=scan()> </div> <p class=query (click)=onQuery()>查询</p> </div> </div>"},698:function(t,e,o){t.exports='<div class="toolbar flex_box"> <img src='+o(694)+"> <label>{{title}}</label> </div>"},700:function(t,e){t.exports=".status_layout {\n    background: #f08200;\n    border-radius: 4px 4px 0 0;\n    width: 85%;\n    margin: 15px auto 0px auto;\n\n}\n.status_layout #postid{\n    color: #ffffff;\n    font-size: 120%;\n    display: block;\n    padding: 5px 10px 0px 10px;\n}\n\n/*.status_layout #postid a:link{color: #ffffff}     !* 未访问的链接 *!*/\n/*.status_layout #postid a:visited {color: #ffffff}  !* 已访问的链接 *!*/\n/*.status_layout #postid a:hover {color: #ffffff}    !* 当有鼠标悬停在链接上 *!*/\n/*.status_layout #postid a:active {color: #ffffff}   !* 被选择的链接 *!*/\n.status_layout #state{\n    color: #ffffff;\n    font-size: 120%;\n    display: block;\n    padding: 2px 10px 5px 10px;\n}\n\n\n.progress_layout {\n    width: 85%;\n    margin: 0 auto;\n}\n\n.result-info2 {\n    background: #D98B35;\n    width: 100%;\n    border-top: 1px solid #ddd;\n}\n\ntr {\n    display: table-row;\n    vertical-align: middle;\n}\n\n.result-info2 td {\n    padding: 10px;\n    color: #878787;\n    border-bottom: 1px solid #D98B35;\n    background-color: #fbfbfb;\n    font-size: 90%;\n}\n\n.result-info2 td.selected {\n    color: #f08200;\n}\n\n.result-info2 .last td {\n    border-bottom: none;\n}\n\n.result-info2 .row1 {\n    width: 100px;\n    text-align: right;\n    word-wrap:break-word;\n}\n\n.result-info2 .status {\n    width: 30px;\n    background: url(../../assets/images/ic_express_progress_status.png)  center no-repeat #fbfbfb;\n    background-size: 30px;\n    border-radius: 0;\n}\n\n.result-info2 .status-check {\n    width: 30px;\n    background: url(../../assets/images/ic_express_progress_status_current.png) center no-repeat #fbfbfb ;\n    background-size: 30px;\n    border-radius: 0;\n}\n\n.load_layout {\n    position: absolute;\n    width: 200px;\n    height: 200px;\n    left: 50%;\n    top: 50%;\n    margin-left: -100px;\n    margin-top: -100px;\n    text-align: center;\n}\n\n.load_layout #loadText {\n    height: 200px;\n    line-height: 200px;\n}\n\n"},701:function(t,e){t.exports=".query_input_layout {\n    border: solid 1px #9E9E9E;\n    border-radius: 2px;\n    width: 80%;\n    margin: 50px auto 0px auto;\n    padding: 4px 10px;\n}\n#scan {\n    width: 24px;\n}\n.query_input_layout input {\n    flex-grow: 1;\n    margin-right: 10px;\n    height: 30px;\n    font-size: 90%;\n}\n\n.query {\n    width: 70%;\n    color: #ffffff;\n    background: #f08200;\n    height: 35px;\n    line-height: 35px;\n    text-align: center;\n    margin: 100px auto 0 auto;\n}"},702:function(t,e){t.exports=".toolbar {\n    background: #f08200;\n    box-shadow: 0 1px 4px 1px #999999 ;\n    height: 47px;\n    padding: 0 20px;\n    width: 100%;\n}\n.toolbar div {\n    margin: auto 0;\n}\n\n.toolbar img {\n    width: 90px;\n}\n.toolbar label{\n    flex-grow:1;\n    margin-left: 20px;\n    color: #ffffff;\n    font-size: 120%;\n}"},747:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(a=(s<3?r(a):s>3?r(e,o,a):r(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=o(1),a=o(38);o(693);var i=function(){function t(t){this.titleService=t,this.title="Tour of Heroes",this.setTitle("邮政速递物流")}return t.prototype.ngOnInit=function(){console.log("EmsAppComponent ngOnInit")},t.prototype.setTitle=function(t){this.titleService.setTitle(t)},t=n([s.Component({selector:"my-app",template:"\n       <router-outlet></router-outlet>\n  "}),r("design:paramtypes",[a.Title])],t)}();e.EmsAppComponent=i},748:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(a=(s<3?r(a):s>3?r(e,o,a):r(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=o(1),a=o(38),i=o(95),c=function(){function t(t,e){this.titleService=t,this.router=e,this.setTitle("邮政速递物流")}return t.prototype.ngOnInit=function(){console.log("EmsAppJumpComponent ngOnInit "+window.location.href);var t=this.getUrlParamsObject(window.location.href);t.target||(t.target="normal"),"normal"==t.target?t.action&&"scan"==t.action?this.navigate("normal/"+t.code):this.navigate("normal"):"tao"==t.target&&(t.action&&"scan"==t.action?this.navigate("tao/"+t.code):this.navigate("tao"))},t.prototype.setTitle=function(t){this.titleService.setTitle(t)},t.prototype.navigate=function(t){var e=[t];console.log("navigate link="+e),this.router.navigate(e)},t.prototype.getUrlParams=function(t){var e=t.indexOf("?");return console.log(e),e!=-1?t.substring("?".length):""},t.prototype.getUrlParamsObject=function(t){for(var e=this.getUrlParams(t),o={},n=e.split("&"),r=n.length,s=0;s<r;s++){var a=n[s].split("=");o[a[0]]=a[1]}return o},t=n([s.Component({template:"<div></div>"}),r("design:paramtypes",[a.Title,i.Router])],t)}();e.EmsAppJumpComponent=c},749:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(a=(s<3?r(a):s>3?r(e,o,a):r(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=o(1),a=o(38),i=o(230),c=o(33),l=o(239),p=o(38),f=o(750),u=o(753),d=o(747),m=o(748),g=function(){function t(){}return t=n([s.NgModule({imports:[c.CommonModule,a.BrowserModule,i.FormsModule,f.routing,l.HttpModule,l.JsonpModule,u.EmsNormalQueryModule],declarations:[d.EmsAppComponent,m.EmsAppJumpComponent],providers:[p.Title],bootstrap:[d.EmsAppComponent]}),r("design:paramtypes",[])],t)}();e.EmsAppModule=g},750:function(t,e,o){"use strict";var n=o(95),r=[];e.appRoutingProviders=[],e.routing=n.RouterModule.forRoot(r)},751:function(t,e){"use strict";var o=function(){function t(){this.baseServiceUrl="http://www.dzbxk.com/ems",this.normalEmsServiceUrl=this.baseServiceUrl+"/normal",this.testNormalEmsServiceUrl="http://192.168.1.108:8080"}return t}();e.ServiceConfig=o},752:function(t,e){"use strict";e.EmsNormalExpressStateDescArray=["在途","揽件","疑难","签收","退签","派件","退回"];var o=function(){function t(){}return t}();e.EmsNormalExpressObject=o},753:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(a=(s<3?r(a):s>3?r(e,o,a):r(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=o(1),a=o(38),i=o(754),c=o(432),l=o(433),p=o(230),f=o(431),u=o(434),d=o(33),m=o(755),g=function(){function t(){}return t=n([s.NgModule({imports:[d.CommonModule,a.BrowserModule,p.FormsModule,i.normalQueryRouting],declarations:[m.EmsToolBarComponent,c.NormalQueryNavComponent,l.NormalQueryPostIdComponent,f.EmsNormalExpressComponent],providers:[u.NormalExpressQueryService]}),r("design:paramtypes",[])],t)}();e.EmsNormalQueryModule=g},754:function(t,e,o){"use strict";var n=o(95),r=o(432),s=o(433),a=o(431),i=[{path:"",component:r.NormalQueryNavComponent,children:[{path:":id",component:a.EmsNormalExpressComponent},{path:"",component:s.NormalQueryPostIdComponent}]}];e.normalQueryRouting=n.RouterModule.forChild(i)},755:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(a=(s<3?r(a):s>3?r(e,o,a):r(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=o(1),a=function(){function t(){this.title="邮政速递物流"}return n([s.Input(),r("design:type",Object)],t.prototype,"title",void 0),t=n([s.Component({selector:"my-ems-toolbar",styles:[o(702)],template:o(698)}),r("design:paramtypes",[])],t)}();e.EmsToolBarComponent=a}});
//# sourceMappingURL=app.98e69c84128bcf639bd5.js.map